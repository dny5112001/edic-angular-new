<div class="signup-container">
  <h2>Login</h2>

  <!-- Success/Error Messages -->
  <div class="success-message" *ngIf="successMessage">{{ successMessage }}</div>
  <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="collegeEmail">College Email</label>
      <input
        type="email"
        id="collegeEmail"
        formControlName="collegeEmail"
        placeholder="1032220499@tcetmumbai.in"
      />
      <div
        *ngIf="
          (loginForm.get('collegeEmail')?.touched || submitted) &&
          loginForm.get('collegeEmail')?.hasError('required')
        "
        class="error"
      >
        College Email is required.
      </div>
      <div
        *ngIf="
          (loginForm.get('collegeEmail')?.touched || submitted) &&
          loginForm.get('collegeEmail')?.hasError('pattern')
        "
        class="error"
      >
        <!-- Email must be in the format 1032220499@tcetmumbai.in -->
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        placeholder="••••••"
      />
      <div
        *ngIf="
          (loginForm.get('password')?.touched || submitted) &&
          loginForm.get('password')?.hasError('required')
        "
        class="error"
      >
        Password is required.
      </div>
      <div
        *ngIf="
          (loginForm.get('password')?.touched || submitted) &&
          loginForm.get('password')?.hasError('minlength')
        "
        class="error"
      >
        Password must be at least 6 characters.
      </div>
    </div>

    <button type="submit" [disabled]="isLoading">
      <span *ngIf="!isLoading">Login</span>
      <span *ngIf="isLoading" class="loader-container">
        <span class="loader"></span>
        <span class="loader-text">Logging in...</span>
      </span>
    </button>

    <div class="login-link">
      Don't have an account?
      <a routerLink="/signup"> Sign Up </a>
    </div>
  </form>
</div>
